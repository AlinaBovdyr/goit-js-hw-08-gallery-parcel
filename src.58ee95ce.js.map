{"version":3,"sources":["js/gallery-items.js","js/gallery-markup.js","js/key-press.js","js/modal.js","js/backdrop.js","index.js"],"names":["preview","original","description","createGalleryMarkup","items","map","join","onKeyPress","event","key","onModalClose","galleryImages","Array","from","galleryContainer","children","galleryItem","currentImage","find","galleryImage","dataset","source","lightboxImg","getAttribute","currentIndex","indexOf","lastImageNum","length","setAttribute","modal","document","querySelector","closeModalBtn","openModal","classList","add","window","addEventListener","closeModal","changeLightboxImgAttributes","image","urlOriginal","altAttribute","alt","removeEventListener","remove","backdrop","onGalleryContainerClick","preventDefault","imageEl","target","contains","insertAdjacentHTML","galleryItems"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACkBd,aAlBc,SAASC,EAAoBC,GACnCA,OAAAA,EACJC,IAAI,SAAwC,GAArCL,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAILD,MAAAA,mHAAAA,OAAAA,EAICD,yHAAAA,OAAAA,EACQC,wCAAAA,OAAAA,EACRC,gCAAAA,OAAAA,EATrB,wEAcDI,KAAK,IACT,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACWA,aA7Bc,SAASC,EAAWC,GACf,WAAdA,EAAMC,KACRC,eAGIC,IAAAA,EAAgBC,MAAMC,KAAKC,iBAAiBC,UAAUV,IAAI,SAAAW,GACvDA,OAAAA,EAAYD,SAAS,GAAGA,SAAS,KAGpCE,EAAeN,EAAcO,KAAK,SAAAC,GAClCA,GAAAA,EAAaC,QAAQC,SAAWC,YAAYC,aAAa,OACpDJ,OAAAA,IAILK,EAAeb,EAAcc,QAAQR,GACrCS,EAAef,EAAcgB,OAAS,EAExCnB,GAAc,eAAdA,EAAMC,IAAsB,CAC1Be,GAAAA,IAAiBE,EACZJ,OAAAA,YAAYM,aAAa,MAAOjB,EAAc,GAAGS,QAAQC,QAElEC,YAAYM,aAAa,MAAOjB,EAAca,EAAe,GAAGJ,QAAQC,aACnE,GAAkB,cAAdb,EAAMC,IAAqB,CAChCe,GAAiB,IAAjBA,EACIF,OAAAA,YAAYM,aAAa,MAAOjB,EAAce,GAAcN,QAAQC,QAE5EC,YAAYM,aAAa,MAAOjB,EAAca,EAAe,GAAGJ,QAAQC,SAE3E,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACdD,aAfA,IAAA,EAAA,EAAA,QAAA,gBAeA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAbA,IAAMQ,EAAQC,SAASC,cAAc,gBAC/BC,EAAgBF,SAASC,cAAc,wCACvCT,EAAcQ,SAASC,cAAc,oBAErCE,EAAY,WAChBJ,EAAMK,UAAUC,IAAI,WACpBC,OAAOC,iBAAiB,UAAW9B,EAAnC,UAGI+B,EAAa,WACjBN,EAAcK,iBAAiB,QAAS3B,eAGpC6B,EAA8B,SAAqCC,GACjEC,IAAAA,EAAcD,EAAMpB,QAAQC,OAC5BqB,EAAeF,EAAMG,IAC3BrB,EAAYM,aAAa,MAAUa,GAAAA,OAAAA,IACnCnB,EAAYM,aAAa,MAAUc,GAAAA,OAAAA;;ACTpC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAVD,IAAA,EAAA,EAAA,QAAA,gBAUC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GARD,IAAMb,EAAQC,SAASC,cAAc,gBAC/BT,EAAcQ,SAASC,cAAc,oBAE5B,SAASrB,IACtB0B,OAAOQ,oBAAoB,UAAWrC,EAAtC,SACAsB,EAAMK,UAAUW,OAAO,WACvBvB,EAAYM,aAAa,MAAO,IAChCN,EAAYM,aAAa,MAAO;;ACuBjC,aAhCD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,wBACA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,kBA4BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzBD,IAAMd,EAAmBgB,SAASC,cAAc,eAC1Ce,EAAWhB,SAASC,cAAc,sBAUxC,SAASgB,EAAwBvC,GAC/BA,EAAMwC,iBAEAC,IAAAA,EAAUzC,EAAM0C,OAEjBD,EAAQf,UAAUiB,SAAS,oBAIhClB,EAAAA,WAE4BgB,EAAAA,EAAAA,6BAAAA,GAE5BX,EAAAA,YArBFxB,EAAiBsC,mBACf,cACA,EAAoBC,EAAAA,SAAAA,EAApB,UAGFvC,EAAiBuB,iBAAiB,QAASU,GAC3CD,EAAST,iBAAiB,QAAS3B,EAAnC","file":"src.58ee95ce.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","export default function createGalleryMarkup(items) {\r\n  return items\r\n    .map(({ preview, original, description }) => {\r\n      return `<li class=\"gallery__item\">\r\n               <a\r\n                  class=\"gallery__link\"\r\n                  href=\"${original}\"\r\n                >\r\n                    <img\r\n                    class=\"gallery__image\"\r\n                    src=\"${preview}\"\r\n                    data-source=\"${original}\"\r\n                    alt=\"${description}\"\r\n                    />\r\n                </a>\r\n            </li>`;\r\n    })\r\n    .join('');\r\n}\r\n","export default function onKeyPress(event) {\r\n  if (event.key === 'Escape') {\r\n    onModalClose();\r\n  }\r\n\r\n  const galleryImages = Array.from(galleryContainer.children).map(galleryItem => {\r\n    return galleryItem.children[0].children[0];\r\n  });\r\n    \r\n  const currentImage = galleryImages.find(galleryImage => {\r\n    if (galleryImage.dataset.source === lightboxImg.getAttribute('src')) {\r\n      return galleryImage\r\n    }\r\n  });\r\n    \r\n  const currentIndex = galleryImages.indexOf(currentImage);\r\n  const lastImageNum = galleryImages.length - 1;\r\n  \r\n  if (event.key === 'ArrowRight') {\r\n    if (currentIndex === lastImageNum) {\r\n      return lightboxImg.setAttribute('src', galleryImages[0].dataset.source); \r\n    }\r\n    lightboxImg.setAttribute('src', galleryImages[currentIndex + 1].dataset.source);\r\n  } else if (event.key === 'ArrowLeft') {\r\n    if (currentIndex === 0) {\r\n     return lightboxImg.setAttribute('src', galleryImages[lastImageNum].dataset.source);\r\n    }\r\n    lightboxImg.setAttribute('src', galleryImages[currentIndex - 1].dataset.source);\r\n  }\r\n}","import onKeyPress from './key-press'\r\n\r\nconst modal = document.querySelector('.js-lightbox');\r\nconst closeModalBtn = document.querySelector('button[data-action=\"close-lightbox\"]');\r\nconst lightboxImg = document.querySelector('.lightbox__image');\r\n\r\nconst openModal = function openModal() {\r\n  modal.classList.add(\"is-open\");\r\n  window.addEventListener('keydown', onKeyPress);\r\n}\r\n\r\nconst closeModal = function closeModal() {\r\n  closeModalBtn.addEventListener('click', onModalClose)\r\n}\r\n\r\nconst changeLightboxImgAttributes = function changeLightboxImgAttributes(image) {\r\n  const urlOriginal = image.dataset.source;\r\n  const altAttribute = image.alt;\r\n  lightboxImg.setAttribute('src', `${urlOriginal}`);\r\n  lightboxImg.setAttribute('alt', `${altAttribute}`);\r\n}\r\n\r\n\r\n","import onKeyPress from './key-press'\r\n\r\nconst modal = document.querySelector('.js-lightbox');\r\nconst lightboxImg = document.querySelector('.lightbox__image');\r\n\r\nexport default function onModalClose() {\r\n  window.removeEventListener('keydown', onKeyPress);\r\n  modal.classList.remove(\"is-open\");\r\n  lightboxImg.setAttribute('src', '');\r\n  lightboxImg.setAttribute('alt', '');\r\n}\r\n\r\n\r\n\r\n","import \"./css/styles.css\";\nimport galleryItems from './js/gallery-items';\nimport createGalleryMarkup from './js/gallery-markup';\nimport {openModal, closeModal, changeLightboxImgAttributes} from './js/modal';\nimport onModalClose from './js/backdrop'; \n\n\nconst galleryContainer = document.querySelector('.js-gallery');\nconst backdrop = document.querySelector('.lightbox__overlay');\n\ngalleryContainer.insertAdjacentHTML(\n  'afterbegin',\n  createGalleryMarkup(galleryItems),\n);\n\ngalleryContainer.addEventListener('click', onGalleryContainerClick);\nbackdrop.addEventListener('click', onModalClose);\n\nfunction onGalleryContainerClick(event) {\n  event.preventDefault();\n\n  const imageEl = event.target\n\n  if (!imageEl.classList.contains('gallery__image')) {\n    return\n  }\n  \n  openModal;\n\n  changeLightboxImgAttributes(imageEl);\n\n  closeModal;\n}\n\n\n"]}