{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","createGalleryMarkup","items","map","join","galleryContainer","document","querySelector","modal","closeModalBtn","lightboxImg","backdrop","onGalleryContainerClick","event","preventDefault","imageEl","target","classList","contains","openModal","changeLightboxImgAttributes","closeModal","add","window","addEventListener","onKeyPress","onModalClose","image","urlOriginal","dataset","source","altAttribute","alt","setAttribute","removeEventListener","remove","key","galleryImages","Array","from","children","galleryItem","currentImage","find","galleryImage","getAttribute","currentIndex","indexOf","lastImageNum","length","insertAdjacentHTML","galleryItems"],"mappings":"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","file":"src.7593f37c.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","import \"./css/styles.css\";\nimport galleryItems from './js/gallery-items.js';\n\nfunction createGalleryMarkup(items) {\n  return items\n    .map(({ preview, original, description }) => {\n      return `<li class=\"gallery__item\">\n               <a\n                  class=\"gallery__link\"\n                  href=\"${original}\"\n                >\n                    <img\n                    class=\"gallery__image\"\n                    src=\"${preview}\"\n                    data-source=\"${original}\"\n                    alt=\"${description}\"\n                    />\n                </a>\n            </li>`;\n    })\n    .join('');\n}\n\nconst galleryContainer = document.querySelector('.js-gallery');\nconst modal = document.querySelector('.js-lightbox');\nconst closeModalBtn = document.querySelector('button[data-action=\"close-lightbox\"]');\nconst lightboxImg = document.querySelector('.lightbox__image');\nconst backdrop = document.querySelector('.lightbox__overlay');\n\ngalleryContainer.insertAdjacentHTML(\n  'afterbegin',\n  createGalleryMarkup(galleryItems),\n);\n\ngalleryContainer.addEventListener('click', onGalleryContainerClick);\nbackdrop.addEventListener('click', onModalClose);\n\nfunction onGalleryContainerClick(event) {\n  event.preventDefault();\n\n  const imageEl = event.target\n\n  if (!imageEl.classList.contains('gallery__image')) {\n    return\n  }\n  \n  openModal();\n\n  changeLightboxImgAttributes(imageEl);\n\n  closeModal();\n}\n\nfunction openModal() {\n  modal.classList.add(\"is-open\");\n  window.addEventListener('keydown', onKeyPress);\n}\n\nfunction closeModal() {\n  closeModalBtn.addEventListener('click', onModalClose)\n}\n\nfunction changeLightboxImgAttributes(image) {\n  const urlOriginal = image.dataset.source;\n  const altAttribute = image.alt;\n  lightboxImg.setAttribute('src', `${urlOriginal}`);\n  lightboxImg.setAttribute('alt', `${altAttribute}`);\n}\n\nfunction onModalClose() {\n  window.removeEventListener('keydown', onKeyPress);\n  modal.classList.remove(\"is-open\");\n  lightboxImg.setAttribute('src', '');\n  lightboxImg.setAttribute('alt', '');\n}\n\nfunction onKeyPress(event) {\n  if (event.key === 'Escape') {\n    onModalClose();\n  }\n\n  const galleryImages = Array.from(galleryContainer.children).map(galleryItem => {\n    return galleryItem.children[0].children[0];\n  });\n    \n  const currentImage = galleryImages.find(galleryImage => {\n    if (galleryImage.dataset.source === lightboxImg.getAttribute('src')) {\n      return galleryImage\n    }\n  });\n    \n  const currentIndex = galleryImages.indexOf(currentImage);\n  const lastImageNum = galleryImages.length - 1;\n  \n  if (event.key === 'ArrowRight') {\n    if (currentIndex === lastImageNum) {\n      return lightboxImg.setAttribute('src', galleryImages[0].dataset.source); \n    }\n    lightboxImg.setAttribute('src', galleryImages[currentIndex + 1].dataset.source);\n  } else if (event.key === 'ArrowLeft') {\n    if (currentIndex === 0) {\n     return lightboxImg.setAttribute('src', galleryImages[lastImageNum].dataset.source);\n    }\n    lightboxImg.setAttribute('src', galleryImages[currentIndex - 1].dataset.source);\n  }\n}\n\n"]}